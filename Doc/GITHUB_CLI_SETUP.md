# Инструкция по подключению к GitHub через GitHub CLI

## Описание
Эта инструкция поможет вам настроить GitHub CLI (`gh`) на любом компьютере для работы с репозиториями GitHub и организациями.

## Предварительные требования

1. **Учетная запись GitHub** - у вас должен быть аккаунт на GitHub
2. **Доступ к интернету** - для авторизации и работы с API
3. **Терминал/Командная строка** - для выполнения команд

## Шаг 1: Установка GitHub CLI

### macOS
```bash
# Через Homebrew (рекомендуется)
brew install gh

# Или через MacPorts
sudo port install gh
```

### Linux
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install gh

# Fedora
sudo dnf install gh

# Arch Linux
sudo pacman -S github-cli
```

### Windows
```bash
# Через Chocolatey
choco install gh

# Или через Scoop
scoop install gh

# Или скачать установщик с https://cli.github.com/
```

## Шаг 2: Проверка установки

После установки проверьте, что GitHub CLI установлен:

```bash
gh --version
```

Должна отобразиться версия, например: `gh version 2.x.x`

## Шаг 3: Авторизация в GitHub CLI

### Способ 1: Интерактивная авторизация (рекомендуется)

1. Откройте терминал
2. Выполните команду:
   ```bash
   gh auth login
   ```

3. Следуйте инструкциям на экране:
   - Выберите `GitHub.com`
   - Выберите протокол: `HTTPS` (рекомендуется) или `SSH`
   - Выберите способ авторизации: `Login with a web browser` (рекомендуется)
   - Скопируйте одноразовый код, который появится на экране
   - Нажмите `Enter` - откроется браузер
   - Вставьте код в браузере и авторизуйтесь
   - Подтвердите разрешения для GitHub CLI

4. После успешной авторизации вы увидите:
   ```
   ✓ Authentication complete.
   ✓ Logged in as [ваш_username]
   ```

### Способ 2: Авторизация через токен

Если вы предпочитаете использовать персональный токен доступа:

1. Создайте токен на GitHub:
   - Перейдите: https://github.com/settings/tokens
   - Нажмите "Generate new token" → "Generate new token (classic)"
   - Дайте токену имя (например: "GitHub CLI")
   - Выберите срок действия
   - Выберите необходимые разрешения (scopes):
     - `repo` - для работы с репозиториями
     - `read:org` - для просмотра организаций
     - `workflow` - для работы с GitHub Actions (если нужно)
   - Нажмите "Generate token"
   - **ВАЖНО:** Скопируйте токен сразу (он больше не будет показан!)

2. Авторизуйтесь через токен:
   ```bash
   gh auth login --with-token < ваш_токен
   ```
   
   Или введите токен вручную:
   ```bash
   echo "ваш_токен" | gh auth login --with-token
   ```

## Шаг 4: Проверка авторизации

Проверьте, что авторизация прошла успешно:

```bash
gh auth status
```

Должно отобразиться:
```
github.com
  ✓ Logged in as [ваш_username]
  ✓ Git operations for github.com configured to use https protocol
  ✓ Token: gho_********************
```

## Шаг 5: Полезные команды

### Просмотр организаций
```bash
gh org list
```

### Просмотр репозиториев
```bash
# Все ваши репозитории
gh repo list --limit 100

# Репозитории конкретной организации
gh repo list [название-организации] --limit 100

# Только приватные репозитории
gh repo list --limit 100 --visibility private

# Только публичные репозитории
gh repo list --limit 100 --visibility public
```

### Клонирование репозитория
```bash
gh repo clone [owner]/[repo-name]
```

### Создание нового репозитория
```bash
gh repo create [название] --private  # приватный
gh repo create [название] --public   # публичный
```

### Просмотр информации о репозитории
```bash
gh repo view [owner]/[repo-name]
```

## Шаг 6: Настройка Git (если еще не настроено)

Убедитесь, что Git настроен с вашими данными:

```bash
git config --global user.name "Ваше Имя"
git config --global user.email "ваш-email@example.com"
```

## Решение проблем

### Проблема: "gh: command not found"
**Решение:** GitHub CLI не установлен. Следуйте Шагу 1 для установки.

### Проблема: "You are not logged into any GitHub hosts"
**Решение:** Выполните `gh auth login` (Шаг 3).

### Проблема: "To use GitHub CLI in automation, set the GH_TOKEN environment variable"
**Решение:** Это нормально для автоматизации. Для интерактивного использования просто выполните `gh auth login`.

### Проблема: Авторизация не завершается
**Решение:** 
- Убедитесь, что браузер открылся
- Проверьте интернет-соединение
- Попробуйте использовать токен (Способ 2 из Шага 3)

### Проблема: Нет доступа к приватным репозиториям
**Решение:** 
- Убедитесь, что при авторизации вы дали разрешение на доступ к приватным репозиториям
- Проверьте права доступа в настройках GitHub токена

## Дополнительная информация

- **Официальная документация:** https://cli.github.com/manual/
- **Справка по командам:** `gh help [команда]`
- **Пример:** `gh help auth login`

## Безопасность

⚠️ **Важные рекомендации:**

1. **Никогда не делитесь токенами** - они дают полный доступ к вашему аккаунту
2. **Используйте разные токены** для разных целей
3. **Регулярно обновляйте токены** - особенно если подозреваете утечку
4. **Отзывайте неиспользуемые токены** в настройках GitHub
5. **Не коммитьте токены в репозиторий** - используйте `.gitignore` для файлов с токенами

## Пример полного процесса на новом компьютере

```bash
# 1. Установка (macOS через Homebrew)
brew install gh

# 2. Авторизация
gh auth login

# 3. Проверка
gh auth status

# 4. Просмотр репозиториев
gh repo list

# 5. Клонирование нужного репозитория
gh repo clone neetrino-com/neetrino-academy
```

---

**Дата создания:** 2026-01-08  
**Версия:** 1.0
