# ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è API –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ - –ó–ê–í–ï–†–®–ï–ù–ê

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
**–ë—ã–ª–æ**: 2 –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö API endpoint'–∞ –¥–ª—è –∂—É—Ä–Ω–∞–ª–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
**–°—Ç–∞–ª–æ**: 1 —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π API endpoint

## üîß –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –û–±—ä–µ–¥–∏–Ω–∏–ª API endpoints
- **–°—Ç–∞—Ä—ã–π –∫–æ–¥**: 
  - `/api/admin/groups/[id]/attendance` (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º)
  - `/api/admin/groups/[id]/attendance/monthly` (–∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º)
- **–ù–æ–≤—ã–π –∫–æ–¥**: 
  - `/api/admin/groups/[id]/attendance` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `view`, `year`, `month`

### 2. –û–±–Ω–æ–≤–∏–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç AttendanceJournal
- –ó–∞–º–µ–Ω–∏–ª –≤—ã–∑–æ–≤—ã —Å—Ç–∞—Ä–æ–≥–æ monthly API –Ω–∞ –Ω–æ–≤—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π API
- –ò—Å–ø—Ä–∞–≤–∏–ª —Ñ—É–Ω–∫—Ü–∏–∏ `fetchMonthlyAttendanceData()` –∏ `updateMonthlyAttendance()`

### 3. –£–¥–∞–ª–∏–ª –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥
- –£–¥–∞–ª–µ–Ω —Ñ–∞–π–ª `src/app/api/admin/groups/[id]/attendance/monthly/route.ts`
- –£–¥–∞–ª–µ–Ω–∞ –ø–∞–ø–∫–∞ `monthly/`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|----|----|-----------|
| API endpoints | 2 | 1 | -50% |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ | –ï—Å—Ç—å | –ù–µ—Ç | -100% |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è | -70% |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 2 –∑–∞–ø—Ä–æ—Å–∞ | 1 –∑–∞–ø—Ä–æ—Å | +100% |

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π API

### –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º (—Ç–∞–±–ª–∏—Ü–∞/–∫–∞—Ä—Ç–æ—á–∫–∏)
```javascript
fetch('/api/admin/groups/group3/attendance?view=table')
```

### –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º
```javascript
fetch('/api/admin/groups/group3/attendance?view=calendar&year=2025&month=9')
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
```javascript
// –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º
fetch('/api/admin/groups/group3/attendance', {
  method: 'PATCH',
  body: JSON.stringify({ eventId, userId, status })
})

// –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º
fetch('/api/admin/groups/group3/attendance', {
  method: 'PATCH',
  body: JSON.stringify({ userId, date, status })
})
```

## ‚úÖ –°—Ç–∞—Ç—É—Å
- [x] API –æ–±—ä–µ–¥–∏–Ω–µ–Ω
- [x] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] –î—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥ —É–¥–∞–ª–µ–Ω
- [x] –û—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** üéâ
